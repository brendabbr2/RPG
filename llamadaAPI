import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import com.squareup.okhttp.OkHttpClient;
import com.squareup.okhttp.Response;
import com.squareup.okhttp.Request;
import org.json.JSONObject;

import java.io.IOException;
import java.net.http.HttpRequest;


public class intentoAPI{
    OkHttpClient client = new OkHttpClient();

    String run(String url) throws IOException{
        Request request = new Request.Builder()
                .get()
                .header("x-rapidapi-host", "ali-express1.p.rapidapi.com")
                .header("x-rapidapi-key", "bc43eb4fe4msh06aa32e0eacf3c2p1c1771jsn70d64f46639b")
                .url(url)
                .build();
        Response res = client.newCall(request).execute();
        return res.body().string();

    }
    public static void main(String[] args) throws IOException{
        intentoAPI c = new intentoAPI();
        String uri = "https://ali-expressa1.p.rapidapi.com/product/4000479928418?country=US&language=en";
        JSONObject json1 = (JSONObject) new JSONObject(c.run(uri));
        JSONObject json2 = (JSONObject) json1.get("actionModule");
        String json3 = (String) json2.get("addToCartUrl");
        System.out.println(json3);

    }

}
